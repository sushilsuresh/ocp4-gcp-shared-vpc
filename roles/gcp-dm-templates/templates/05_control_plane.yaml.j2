imports:
- path: 05_control_plane.py

resources:
- name: cluster-control-plane
  type: 05_control_plane.py
  properties:
    infra_id: '{{ INFRA_ID }}'
    region: '{{ REGION }}'
    zones:
    - '{{ ZONE_0 }}'
    - '{{ ZONE_1 }}'
    - '{{ ZONE_2 }}'

    control_subnet: '{{ CONTROL_SUBNET }}'
    image: '{{ CLUSTER_IMAGE }}'
    machine_type: 'n1-standard-4'
    root_volume_size: '128'
    service_account_email: '{{ MASTER_SERVICE_ACCOUNT_EMAIL }}'

    ignition: "{{ MASTER_IGNITION | to_json }}"
